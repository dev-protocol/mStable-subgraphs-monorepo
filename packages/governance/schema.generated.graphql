### This file is automatically generated ###

######## BEGIN IMPORTED DEFINITIONS ########

type Metric @entity {
    id: ID!

    """
    Exact value of the metric, i.e. in base units as an integer
    """
    exact: BigInt!

    """
    Decimals used for the exact value (default: 18)
    """
    decimals: Int!

    """
    Simple value of the metric, i.e. the exact value represented as a decimal
    """
    simple: BigDecimal!
}

type Counter @entity {
    id: ID!

    """
    Value of the counter; should be positive
    """
    value: BigInt!
}

"""
An ERC20-compatible token
"""
type Token @entity {
    id: ID!

    """
    Token address
    """
    address: Bytes!

    """
    Token decimals
    """
    decimals: Int!

    """
    Token name
    """
    name: String!

    """
    Token symbol
    """
    symbol: String!

    """
    Total supply of the token
    """
    totalSupply: Metric!

    """
    Total quantity of tokens burned
    """
    totalBurned: Metric!

    """
    Total quantity of tokens minted
    """
    totalMinted: Metric!

    """
    Count of transfer transactions
    """
    totalTransfers: Counter!

    """
    Count of transfer transactions that minted the token
    """
    totalMints: Counter!

    """
    Count of transfer transactions that burned the token
    """
    totalBurns: Counter!
}

interface Transaction {
    """
    Transaction hash + log index
    """
    id: ID!

    """
    Transaction hash
    """
    hash: Bytes!

    """
    Block number the transaction is in
    """
    block: Int!

    """
    Timestamp of the block the transaction is in
    """
    timestamp: BigInt!

    """
    Address of the sender of the transaction
    """
    sender: Bytes!
}

######### END IMPORTED DEFINITIONS #########



type UserLockup @entity {
  # incentivisedVotingLockup + account
  id: ID!

  account: Bytes!

  incentivisedVotingLockup: IncentivisedVotingLockup!

  value: BigInt!

  lockTime: BigInt!

  ts: BigInt!

  slope: BigInt!

  bias: BigInt!

  ejected: Boolean!

  ejectedHash: Bytes
}

type IncentivisedVotingLockup @entity {
  id: ID!

  userLockups: [UserLockup!]! @derivedFrom(field: "incentivisedVotingLockup")

  stakingRewards: [StakingReward!]!
    @derivedFrom(field: "incentivisedVotingLockup")

  stakingBalances: [StakingBalance!]!
    @derivedFrom(field: "incentivisedVotingLockup")

  votingToken: Token!

  end: BigInt!

  periodFinish: Int!

  lastUpdateTime: Int!

  stakingToken: Token!

  rewardPerTokenStored: BigInt!

  duration: BigInt!

  rewardRate: BigInt!

  rewardsToken: Token!

  rewardsDistributor: RewardsDistributor!

  globalEpoch: BigInt!

  expired: Boolean!

  maxTime: BigInt!

  totalStaticWeight: BigInt!

  totalStakingRewards: BigInt!

  totalValue: BigInt!

  totalStakers: Counter!
}

type RewardsDistributor @entity {
  id: ID!

  fundManagers: [Bytes!]!
}

type StakingReward @entity {
  # contract + account
  id: ID!

  amount: BigInt!

  rewardsPaid: BigInt!

  amountPerTokenPaid: BigInt!

  account: Bytes!

  incentivisedVotingLockup: IncentivisedVotingLockup!
}

type StakingBalance @entity {
  # incentivisedVotingLockup + account
  id: ID!

  account: Bytes!

  incentivisedVotingLockup: IncentivisedVotingLockup!

  amount: BigInt!
}

enum LockAction {
  CREATE_LOCK
  INCREASE_LOCK_AMOUNT
  INCREASE_LOCK_TIME
}

type WithdrawTransaction implements Transaction @entity {
  id: ID!
  block: Int!
  hash: Bytes!
  provider: Bytes!
  sender: Bytes!
  timestamp: BigInt!
  value: BigInt!
}

type EjectTransaction implements Transaction @entity {
  id: ID!
  block: Int!
  ejected: Bytes!
  ejector: Bytes!
  hash: Bytes!
  sender: Bytes!
  timestamp: BigInt!
}

type ClaimTransaction implements Transaction @entity {
  id: ID!
  block: Int!
  hash: Bytes!
  reward: BigInt!
  sender: Bytes!
  timestamp: BigInt!
  user: Bytes!
}

type CreateLockTransaction implements Transaction @entity {
  id: ID!
  block: Int!
  hash: Bytes!
  lockTime: BigInt!
  provider: Bytes!
  sender: Bytes!
  timestamp: BigInt!
  value: BigInt!
}

type IncreaseLockAmountTransaction implements Transaction @entity {
  id: ID!
  block: Int!
  hash: Bytes!
  provider: Bytes!
  sender: Bytes!
  timestamp: BigInt!
  value: BigInt!
}

type IncreaseLockTimeTransaction implements Transaction @entity {
  id: ID!
  block: Int!
  hash: Bytes!
  lockTime: BigInt!
  provider: Bytes!
  sender: Bytes!
  timestamp: BigInt!
}
